<?xml version="1.0" encoding="UTF-8"?>
<Page id="newReasonCode" showinFrame="true" title="ReasonCode | Primus Solutions"
      Object="com.primus.admin.reasoncode.model.ReasonCode"
      Controller="com.primus.admin.reasoncode.controller.ReasonCodeController">

    <Template type="DataSheet" name="DataSheetTemplate"></Template>
    <Forwards>
        <Forward key="NEW">controller?page=reasoncodes</Forward>
        <Forward key="EDIT">controller?page=reasoncodes</Forward>
    </Forwards>
    <AjaxGroups>
        <AjaxGroup service="filterSearch">
            <requestElements>
                <requestElement key="filterId">lstSavedFilters</requestElement>
            </requestElements>
            <responseElements>
                <responseElement key="FilterName">txtFilterName</responseElement>
                <responseElement key="reason">txtreason</responseElement>
            </responseElements>
        </AjaxGroup>
    </AjaxGroups>

    <IncludeJS>./js/CRMGeneral.js</IncludeJS>
    <IncludeJS>./js/RadsLib.js</IncludeJS>
    <Elements>
        <CoreSection>
            <ErrorSection>
            </ErrorSection>
            <FilterSection>
                <FilterNode>
                    <Element label="Saved_Filters" type="UIList" Id="lstSavedFilters" property="">
                        <options populator="getSavedFiters">
                        </options>
                    </Element>
                </FilterNode>
                <FilterNode>
                    <Element label="Reason" type="UIText" Id="txtreason " property="reason"/>
                </FilterNode>
            </FilterSection>
            <ListSection>
                <Columns allowrowselection="Multiple" uniqueproperty="Id">
                    <SelectionColumn>
                        <Element label="" type="UICheckBox" Id="idChkSel" rendered="!Object.isDeleted" property="Id"/>
                        <Element label="" type="UIImage" Id="idChkSel" rendered="Object.isDeleted" height="21"
                                 weight="21" src="./images/deletedRow.jpg"/>
                    </SelectionColumn>
                    <Column title="Reason" sortField="REASON" width="20%">
                        <Element label="" type="UINote" Id="idIdNote" property="reason"/>
                    </Column>
                    <Column title="Description" sortField="DESCRIPTION" width="25%">
                        <Element label="" type="UINote" Id="idIdNote" property="description"/>
                    </Column>
                    <Column title="Type" sortField="REASON_TYPE" width="15%">
                        <Element label="" type="UINote" Id="idIdNote" property="reasonType.description"/>
                    </Column>
                    <Column title="Factor" sortField="FACTOR_TYPE" width="15%">
                        <Element label="" type="UINote" Id="idIdNote" property="factorType.description"/>
                    </Column>
                    <Column title="Orientation" sortField="ORIENTATION" width="15%">
                        <Element label="" type="UINote" Id="idIdNote" property="Orientation.description"/>
                    </Column>
                    <Column title="" width="10%">
                        <Element label="" type="UINote" Id="idAdEd"/>
                    </Column>
                </Columns>


                <DataEntryColumns>
                    <Column width="5%">
                        <Element label="" type="UIHidden" Id="idID" size="40" property="Id"/>
                    </Column>
                    <Column width="20%">
                        <Element label="" type="UIText" isMandatory="true" Id="txtreason" property="reason"/>
                    </Column>
                    <Column width="25%">
                        <Element label="" type="UIText" isMandatory="false" Id="txtdescription"
                                 property="description"/>
                    </Column>
                    <Column width="15%">
                        <Element label="" type="UIList" isMandatory="true" Id="lstreasonType"
                                 property="reasonType.code">
                            <options populator="getFiniteValues" populatorParam="REASTYPE">
                            </options>
                        </Element>
                    </Column>
                    <Column width="15%">
                        <Element label="" type="UIList" isMandatory="true" Id="lstfactorType"
                                 property="factorType.code">
                            <options populator="getFiniteValues" populatorParam="FACTTYPE">
                            </options>
                        </Element>
                    </Column>
                    <Column width="15%">
                        <Element label="" type="UIList" isMandatory="true" Id="lstOrientation"
                                 property="Orientation.code">
                            <options populator="getFiniteValues" populatorParam="BUSORIEN">
                            </options>
                        </Element>
                    </Column>
                    <Column>
                        <Element caption = ""  style="btn btn-primary" iconStyle="glyphicon glyphicon-plus"  type = "UIButton" Id = "btnAddRow"    fixedAction ="FixedAction.ACTION_ADDTABLEROW"   rendered = "Controller.isCreateMode" fixedActionParam =  "this"/>
                        <Element caption = "" style="btn btn-danger" iconStyle="glyphicon glyphicon-minus"  type = "UIButton" Id = "btnDelRow"    fixedAction ="FixedAction.ACTION_DELETETABLEROW" rendered = "Controller.isCreateMode"  fixedActionParam =  "this"/>
                    </Column>
                </DataEntryColumns>
            </ListSection>
        </CoreSection>
        <Section type="summary">
            <If check="Controller.isReadMode">
                <Element caption="Add" type="UIButton" Id="btnAdd" style="btn btn-primary"
                         iconStyle="glyphicon glyphicon-plus" fixedAction="FixedAction.ACTION_GOADDMODE"
                         fixedActionParam="NEW"/>
                <Element caption="Edit" type="UIButton" Id="btnEdit" style="btn btn-warning"
                         iconStyle="glyphicon glyphicon-pencil" fixedAction="FixedAction.ACTION_GOEDITMODE"
                         fixedActionParam="EDIT"/>
                <Element caption="Delete" type="UIButton" Id="btnDel" style="btn btn-danger"
                         iconStyle="glyphicon glyphicon-trash" fixedAction="FixedAction.ACTION_DELETE"
                         fixedActionParam="DELETE"
                         fixedActionvalidateFunc="deleteFromList()"/>
                <Element type="Panel" key="NavPanel" style="sameline"></Element>
            </If>
            <If check="Controller.isCreateorEditMode">
                <Element type="Panel" key="CRUDPanel" style="sameline"></Element>
            </If>
        </Section>

        <Section type="copyRightSection"/>
    </Elements>
</Page>
