<?xml version="1.0" encoding="UTF-8"?>
<Page id="storeAssociation" showinFrame="true" title="Store Association | Primus CRM "
      Object="com.primus.externals.store.model.StoreAssociation"
      Controller="com.primus.externals.store.controller.StoreAssociationController">
    <Template type="CRUD" name="CRUDTemplate"></Template>
    <Forwards>
        <Forward key="CANCEL">controller?page=stores</Forward>
        <Forward key="SAVE">stores</Forward>
    </Forwards>
    <IncludeJS>./js/CRMGeneral.js</IncludeJS>
    <IncludeJS>./js/RadsLib.js</IncludeJS>
    <AjaxGroups>
        <AjaxGroup service ="regionLocationSearch">
            <requestElements>
                <requestElement key = "region">LstRegion</requestElement>
            </requestElements>
            <responseElements>
                <responseElement key = "location" >LstLocations</responseElement>
            </responseElements>
        </AjaxGroup>
    </AjaxGroups>

    <Elements>
        <UIForm Id="cust" method="POST">
            <CoreSection>
                <ErrorSection>
                </ErrorSection>
                <Section type="detail">
                    <Element label="" type="UIHidden"  Id="hdnId"  property="store.id"/>
                    <Element label="Name" type="UIText"  Id="txtname" readonly="true" property="store.name"/>
                    <Element label="Region" type="UIList"  Id="LstRegion"   property="location.region.id">
                        <options populator="getAllRegions" >
                        </options>
                    </Element>
                    <Element label="Location" type="UIList"  Id="LstLocations"   property="location.id">
                        <options populator="getAllLocations" >
                        </options>
                    </Element>
                    <Element label="Link" type="UIBooleanCheckBox" hiddenControlId="hdnlinking"
                             isMandatory="true" Id="txtlinking" property="associated"/>
                    <Element label="Description" type="UIText"  Id="txtDescription"  property="description"/>


                </Section>
            </CoreSection>
            <Section type ="optionalSummary">
                <Element caption = "Save"  type = "UIButton" Id = "btUpdate"   style="btn btn-primary" iconStyle="glyphicon glyphicon-flash"
                         fixedAction ="FixedAction.ACTION_PLAINSUBMIT"   fixedActionParam =  "Save"  />
                <Element caption = "Cancel"  type = "UIButton" Id = "btCancel"  style="btn btn-warning" iconStyle="glyphicon glyphicon-remove"  fixedAction ="FixedAction.ACTION_PAGEFORWARD" fixedActionParam =  "CANCEL"  />
            </Section>
        </UIForm>
    </Elements>
</Page>
