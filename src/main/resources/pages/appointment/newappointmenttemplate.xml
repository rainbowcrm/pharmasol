<?xml version="1.0" encoding="UTF-8"?>
<Page id="newAppointmentTemplate" showinFrame="true" title="AppointmentTemplate | Primus WFM | Primus WFM"
      Object="com.primus.crm.appointment.model.AppointmentTemplate"
      Controller="com.primus.crm.appointment.controller.AppointmentTemplateController">
    <Template type="Transaction" name="TransactionTemplate"></Template>
    <Forwards>
        <Forward key="CANCEL">controller?page=appointmenttemplates</Forward>
        <Forward key="SAVE">appointmenttemplates</Forward>
    </Forwards>
    <IncludeJS>./js/CRMGeneral.js</IncludeJS>
    <IncludeJS>./js/RadsLib.js</IncludeJS>
    <AjaxGroups>
        <AjaxGroup service="regionLocationSearch">
            <requestElements>
                <requestElement key="region">LstRegion</requestElement>
            </requestElements>
            <responseElements>
                <responseElement key="location">LstLocations</responseElement>
            </responseElements>
        </AjaxGroup>
    </AjaxGroups>
    <Elements>
        <UIForm Id="cust" method="POST">
            <CoreSection>
                <ErrorSection>
                </ErrorSection>
                <Section type="header">
                    <Element label="" type="UIHidden" Id="hdnVersion" property="version"/>
                    <Element label="" type="UIHidden" Id="hdnUserID" property="Id"/>
                    <Element label="Template_No" type="UIText" isMandatory="true" Id="txttemplateNo" readonly = "true"
                             property="templateNo"/>
                    <Element label="Manager" type="UILookupDataList" listId="lstmanager" Id="txtmanager"
                             isMandatory="true" property="manager.userId">
                        <lookupType>user</lookupType>
                    </Element>
                    <Element label="Agent" type="UILookupDataList" listId="lstagent" Id="txtagent" isMandatory="true"
                             property="agent.userId">
                        <lookupType>user</lookupType>
                    </Element>

                    <Element label="Start_From" type="UIDate" isMandatory="true" Id="txtstartFrom"
                             property="startFrom"/>
                    <Element label="End_At" type="UIDate" isMandatory="true" Id="txtendAt" property="endAt"/>

                    <Element label="Appointments_Created" type="UIText" readonly="true" isMandatory="false" Id="txtmonthlyAppt"
                             property="instanceCreated"/>
                    <Element label="Description" type="UIText" isMandatory="false" Id="txtdescription"
                             property="description"/>
                </Section>
                <Section type="detail">
                    <Element type="UITabset" Id="impexp" style="uitabstyle"
                             selectedTabStyle="titleStyleSelected active nav-link"
                             unSelectedTabStyle="titleStyleUnSelected nav-link">
                        <Element type="UITab" Id="idPartyDetails" title="Details" showinTable="true" cols="3">
                            <Element label="Party" type="UIList" isMandatory="true" Id="lstpartyType"
                                     property="partyType.code">
                                <options populator="getFiniteValues" populatorParam="EXPTYTYPE">
                                </options>
                            </Element>
                            <Element label="Region" type="UIList" Id="LstRegion" property="location.region.id">
                                <options populator="getAllRegions">
                                </options>
                            </Element>
                            <Element label="Location" type="UIList" Id="LstLocations" property="location.id">
                                <options populator="getAllLocations">
                                </options>
                            </Element>
                            <Element label="Stockist" type="UILookupDataList" listId="lststockist" Id="txtstockist"
                                     isMandatory="false" property="stockist.name">
                                <lookupType>stockist</lookupType>
                            </Element>
                            <Element label="Store" type="UILookupDataList" listId="lststore" Id="txtstore"
                                     isMandatory="false"
                                     property="store.name">
                                <lookupType>store</lookupType>
                            </Element>
                            <Element label="Doctor" type="UILookupDataList" listId="lstdoctor" Id="txtdoctor"
                                     isMandatory="false" property="doctor.name">
                                <lookupType>doctor</lookupType>
                            </Element>

                        </Element>

                        <Element type="UITab" Id="idPatternDetails" title="Schedules" showinTable="true" cols="3">

                            <Element label="Pattern" type="UIList" isMandatory="true" Id="lstpattern"
                                     property="pattern.code">
                                <options populator="getFiniteValues" populatorParam="DTPTTN">
                                </options>
                            </Element>

                            <Element label="" type="UILabel" isMandatory="true" Id="txtappointmentTime" value="Appointment_Time"
                                      />
                            <Element label="" type="UIDiv" showInPrevCol="true" style="input-group col-md-12">
                            <Element label="" type="UIList" isMandatory="true" Id="txtapptHH" style ="custom30width"
                                     property="hh">
                                <options populator="getHours">
                                </options>
                            </Element>
                                <Element label="" type="UILabel" isMandatory="true" Id="txtcol" style="form-control custom5width" value=":"
                                />
                            <Element label="" type="UIList" isMandatory="true" Id="txtappMM" style ="custom30width"
                                     property="mm">
                                <options populator="getMinutes">
                                </options>
                            </Element>
                            </Element>

                            <Element label="Duration" type="UIText" isMandatory="false" Id="txtduration"
                                     property="duration"/>


                            <Element label="Day_forMonth" type="UIText"  Id="txtdayMonth"  style ="custom30width" property="dayforMonth"/>

                            <Element label="Sunday" type="UIBooleanCheckBox" hiddenControlId="hdnlnksunday"
                                     Id="txtlinksunday" property="sundayFlag"/>
                            <Element label="Monday" type="UIBooleanCheckBox" hiddenControlId="hdnlnkmonday"
                                     Id="txtlinkmonday" property="mondayFlag"/>
                            <Element label="Tuesday" type="UIBooleanCheckBox" hiddenControlId="hdnlnktuesday"
                                     Id="txtlinktuesday" property="tuesdayFlag"/>
                            <Element label="Wednesday" type="UIBooleanCheckBox" hiddenControlId="hdnlnkwednesday"
                                     Id="txtlinkwedneday" property="wednesdayFlag"/>
                            <Element label="Thursday" type="UIBooleanCheckBox" hiddenControlId="hdnlnkthursday"
                                     Id="txtlinkthursday" property="thursFlag"/>
                            <Element label="Friday" type="UIBooleanCheckBox" hiddenControlId="hdnlnkfriday"
                                     Id="txtlinkfriday" property="friFlag"/>
                            <Element label="Saturday" type="UIBooleanCheckBox" hiddenControlId="hdnlnksunday"
                                     Id="txtlinksaturday" property="saturdayFlag"/>

                            <Element label="" type="UILabel" isMandatory="false" Id="lblHide"/>
                            <Element label="" type="UILabel" isMandatory="false" Id="lblHide"/>
                        </Element>
                    </Element>


                </Section>
            </CoreSection>
            <Section type="summary">
                <Element caption="Create_Instances" type="UIButton" Id="btnAlink" style="btn btn-success" rendered = "Controller.isUpdateMode"
                         iconStyle="glyphicon glyphicon-link" fixedAction="FixedAction.ACTION_PLAINSUBMIT"
                         fixedActionParam="CREATEINSTANCE"/>
            </Section>

        </UIForm>
    </Elements>
</Page>