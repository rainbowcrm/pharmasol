<?xml version="1.0" encoding="UTF-8"?>
<Page id="newRegion" showinFrame="true" title="Region | Primus WFM | Primus WFM"
      Object="com.primus.admin.region.model.Region"
      Controller="com.primus.admin.region.controller.RegionController">
    <Template type="Transaction" name="TransactionTemplate"></Template>
    <Forwards>
        <Forward key="CANCEL">controller?page=regions</Forward>
        <Forward key="SAVE">regions</Forward>
    </Forwards>
    <IncludeJS>./js/CRMGeneral.js</IncludeJS>
    <IncludeJS>./js/RadsLib.js</IncludeJS>
    <Elements>
        <UIForm Id="cust" method="POST">
            <CoreSection>
                <ErrorSection>
                </ErrorSection>
                <Section type="header3col">
                    <Element label="" type="UIHidden" Id="hdnVersion" property="version"/>
                    <Element label="" type="UIHidden" Id="hdnUserID" property="Id"/>
                    <Element label="Code" type="UIText" isMandatory="true" Id="txtRegioncode" property="code"/>
                    <Element label="Name" type="UIText" isMandatory="true" Id="txtRegionname" property="name"/>
                    <Element label="Zone" type="UIList"  Id="lsyZone"   property="zone.id">
                        <options populator="getAllZones" >
                        </options>
                    </Element>
                    <Element label="Head" type="UIText" isMandatory="false" Id="txthead" property="head"/>
                    <Element label="Head_UserId" type="UIText" isMandatory="false" Id="txtheadUser"
                             property="headUser"/>
                    <Element label="Description" type="UIText" isMandatory="false" Id="txtRegiondescription"
                             property="description"/>

                </Section>

                <Section type="detailForSale">
                    <Element type="UITable" rows="1" cols="5" style="grid" applyStyleonChildren="true" Id="tblTrans"
                             property="locations[]">
                        <Element type="UITableHead" style="listPageTitle">
                            <Element type="UITableRow">
                                <Element type="UITableCol" width="15%">
                                    <Element label="" type="UILabel" Id="lblCode" value="code"/>
                                </Element>
                                <Element type="UITableCol" width="25%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Name"/>
                                </Element>
                                <Element type="UITableCol" width="20%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Type"/>
                                </Element>

                                <Element type="UITableCol" width="25%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Description"/>
                                </Element>
                                <Element type="UITableCol" width="10%">
                                </Element>

                            </Element>
                        </Element>

                        <Element type="UITableRow" dataType="com.primus.admin.region.model.Location" rendered="!Object.isDeleted">
                            <Element type="UITableCol" width="15%">
                                <Element label="" type="UIText" isMandatory="true" Id="txtcode" property="code"/>
                            </Element>
                            <Element type="UITableCol" width="25%">
                                <Element label="" type="UIText" isMandatory="true" Id="txtname" property="name"/>
                            </Element>
                            <Element type="UITableCol" width="20%">
                                <Element label="" type="UIList" isMandatory="true" Id="lstlocationType"
                                         property="locationType.code">
                                    <options populator="getFiniteValues" populatorParam="LOCTYPE">
                                    </options>
                                </Element>
                            </Element>

                            <Element type="UITableCol" width="35%">
                                <Element label="" type="UIText" isMandatory="false" Id="txtdescription"
                                         property="description"/>
                            </Element>
                            <Element type="UITableCol" width="10%">
                                <Element label="" type="UIHidden" Id="hdnsplitlineNo" property="id"/>
                                <Element label="" type="UIHidden" Id="hdnsplitlineversion" property="version"/>
                                <Element caption="" style="btn btn-primary" iconStyle="glyphicon glyphicon-plus"
                                         type="UIButton" Id="btnAddRow" fixedAction="FixedAction.ACTION_ADDTABLEROW"
                                         fixedActionParam="this"/>
                                <Element caption="" style="btn btn-danger" iconStyle="glyphicon glyphicon-minus"
                                         type="UIButton" Id="btnDelRow" fixedAction="FixedAction.ACTION_DELETETABLEROW"
                                         fixedActionParam="this"/>
                            </Element>
                        </Element>


                    </Element>
                </Section>
            </CoreSection>
            <Section type="summary">
            </Section>

        </UIForm>
    </Elements>
</Page>