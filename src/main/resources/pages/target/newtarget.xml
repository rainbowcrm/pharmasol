<?xml version="1.0" encoding="UTF-8"?>
<Page id="newTarget" showinFrame="true" title="Target | Primus WFM | Primus WFM"
      Object="com.primus.crm.target.model.Target"
      Controller="com.primus.crm.target.controller.TargetController">
    <Template type="Transaction" name="TransactionTemplate"></Template>
    <Forwards>
        <Forward key="CANCEL">controller?page=targets</Forward>
        <Forward key="SAVE">targets</Forward>
    </Forwards>
    <IncludeJS>./js/CRMGeneral.js</IncludeJS>
    <IncludeJS>./js/RadsLib.js</IncludeJS>
    <Elements>
        <UIForm Id="cust" method="POST">
            <CoreSection>
                <ErrorSection>
                </ErrorSection>
                <Section type="header">
                    <Element label="" type="UIHidden" Id="hdnVersion" property="version"/>
                    <Element label="" type="UIHidden" Id="hdnUserID" property="Id"/>
                    <Element label="Period" type="UIText" isMandatory="true" Id="txtperiod" property="period"/>
                    <Element label="Location" type="UIList" isMandatory="true" Id="lstlocation" property="location.id">
                        <options populator="null"
                        ></options>
                    </Element>
                    <Element label="From" type="UIDate" isMandatory="true" Id="txtfromDate" property="fromDate"/>
                    <Element label="To" type="UIDate" isMandatory="true" Id="txttoDate" property="toDate"/>
                    <Element label="Manager" type="UILookupDataList" listId="lstmanager" Id="txtmanager"
                             isMandatory="true" property="manager.name">
                        <lookupType>user</lookupType>
                    </Element>
                    <Element label="Description" type="UIText" isMandatory="false" Id="txtdescription"
                             property="description"/>


                </Section>

                <Section type="detailForSale">
                    <Element type="UITable" rows="1" cols="10" style="grid" applyStyleonChildren="true" Id="tblTrans"
                             property="agentVisitTargets  []">
                        <Element type="UITableHead" style="listPageTitle">
                            <Element type="UITableRow">
                                <Element type="UITableCol" width="20%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Agent"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="20%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Visit_Entity"/>
                                </Element>
                                <Element type="UITableCol" width="35%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Visit_To"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="35%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Target"/>
                                </Element>
                                <Element type="UITableCol" width="35%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Description"/>
                                </Element>
                            </Element>
                        </Element>

                        <Element type="UITableRow" dataType="Target" rendered="!Object.isDeleted">
                            <Element type="UITableCol" width="20%">
                                <Element label="Agent" type="UILookupDataList" listId="lstagent" Id="txtagent"
                                         isMandatory="true" property="agent.name">
                                    <lookupType>user</lookupType>
                                </Element>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txttarget"
                                         property="target"/>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txtlineNumber"
                                         property="lineNumber"/>
                            </Element>
                            <Element type="UITableCol" width="20%">
                                <Element label="Visit_Entity" type="UIList" isMandatory="true" Id="lstvisitingType"
                                         property="visitingType.code">
                                    <options populator="getFiniteValues" populatorParam="VSTTRGT">
                                    </options>
                                </Element>
                            </Element>
                            <Element type="UITableCol" width="35%">
                                <Element label="Visit_To" type="UILookupDataList" listId="lstvisitingEntity"
                                         Id="txtvisitingEntity" isMandatory="true"
                                         property="visitingEntity.visitEntity">
                                    <lookupType>string</lookupType>
                                </Element>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txtstockist"
                                         property="stockist"/>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txtstore" property="store"/>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txtdoctor"
                                         property="doctor"/>
                            </Element>
                            <Element type="UITableCol" width="35%">
                                <Element label="Target" type="UIText" isMandatory="false" Id="txttargettedVisit"
                                         property="targettedVisit"/>
                            </Element>
                            <Element type="UITableCol" width="35%">
                                <Element label="Description" type="UIText" isMandatory="false" Id="txtdescription"
                                         property="description"/>
                            </Element>
                            <Element type="UITableCol" width="10%">
                                <Element label="" type="UIHidden" Id="hdnsplitlineNo" property="id"/>
                                <Element label="" type="UIHidden" Id="hdnsplitlineversion" property="version"/>
                                <Element caption="" style="btn btn-primary" iconStyle="glyphicon glyphicon-plus"
                                         type="UIButton" Id="btnAddRow" fixedAction="FixedAction.ACTION_ADDTABLEROW"
                                         fixedActionParam="this"/>
                                <Element caption="" style="btn btn-danger" iconStyle="glyphicon glyphicon-minus"
                                         type="UIButton" Id="btnDelRow" fixedAction="FixedAction.ACTION_DELETETABLEROW"
                                         fixedActionParam="this"/>
                            </Element>
                        </Element>


                    </Element>
                    <Element type="UITable" rows="1" cols="9" style="grid" applyStyleonChildren="true" Id="tblTrans"
                             property="totalVisitTargets  []">
                        <Element type="UITableHead" style="listPageTitle">
                            <Element type="UITableRow">
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="20%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Visit_Entity"/>
                                </Element>
                                <Element type="UITableCol" width="35%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Visit_To"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="0%">
                                    <Element label="" type="UILabel" Id="lblCode" value="null"/>
                                </Element>
                                <Element type="UITableCol" width="35%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Target"/>
                                </Element>
                                <Element type="UITableCol" width="35%">
                                    <Element label="" type="UILabel" Id="lblCode" value="Description"/>
                                </Element>
                            </Element>
                        </Element>

                        <Element type="UITableRow" dataType="Target" rendered="!Object.isDeleted">
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txttarget"
                                         property="target"/>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txtlineNumber"
                                         property="lineNumber"/>
                            </Element>
                            <Element type="UITableCol" width="20%">
                                <Element label="Visit_Entity" type="UIList" isMandatory="true" Id="lstvisitingType"
                                         property="visitingType.code">
                                    <options populator="getFiniteValues" populatorParam="VSTTRGT">
                                    </options>
                                </Element>
                            </Element>
                            <Element type="UITableCol" width="35%">
                                <Element label="Visit_To" type="UILookupDataList" listId="lstvisitingEntity"
                                         Id="txtvisitingEntity" isMandatory="true"
                                         property="visitingEntity.visitEntity">
                                    <lookupType>string</lookupType>
                                </Element>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txtstockist"
                                         property="stockist"/>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txtstore" property="store"/>
                            </Element>
                            <Element type="UITableCol" width="0%">
                                <Element label="null" type="UIText" isMandatory="false" Id="txtdoctor"
                                         property="doctor"/>
                            </Element>
                            <Element type="UITableCol" width="35%">
                                <Element label="Target" type="UIText" isMandatory="false" Id="txttargettedVisit"
                                         property="targettedVisit"/>
                            </Element>
                            <Element type="UITableCol" width="35%">
                                <Element label="Description" type="UIText" isMandatory="false" Id="txtdescription"
                                         property="description"/>
                            </Element>
                            <Element type="UITableCol" width="10%">
                                <Element label="" type="UIHidden" Id="hdnsplitlineNo" property="id"/>
                                <Element label="" type="UIHidden" Id="hdnsplitlineversion" property="version"/>
                                <Element caption="" style="btn btn-primary" iconStyle="glyphicon glyphicon-plus"
                                         type="UIButton" Id="btnAddRow" fixedAction="FixedAction.ACTION_ADDTABLEROW"
                                         fixedActionParam="this"/>
                                <Element caption="" style="btn btn-danger" iconStyle="glyphicon glyphicon-minus"
                                         type="UIButton" Id="btnDelRow" fixedAction="FixedAction.ACTION_DELETETABLEROW"
                                         fixedActionParam="this"/>
                            </Element>
                        </Element>


                    </Element>
                </Section>
            </CoreSection>
            <Section type="summary">
            </Section>

        </UIForm>
    </Elements>
</Page>